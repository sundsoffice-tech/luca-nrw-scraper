{% extends 'crm/base.html' %}
{% block title %}Dashboard - TELIS CRM{% endblock %}

{% block content %}
<!-- Welcome Message -->
<div class="mb-8">
    <h1 class="text-3xl font-bold text-gray-100 mb-2">
        Willkommen, {{ user.get_full_name|default:user.username }}! ğŸ‘‹
    </h1>
    <p class="text-gray-400">
        {% if user_role %}
            Sie sind angemeldet als <span class="text-primary font-semibold">{{ user_role }}</span>
        {% else %}
            Hier ist eine Ãœbersicht Ihrer AktivitÃ¤ten
        {% endif %}
    </p>
</div>

<!-- KPI Cards -->
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
    <!-- Total Leads -->
    <div class="bg-dark-800 border border-dark-700 rounded-lg p-6 hover:border-primary/50 transition duration-150">
        <div class="flex items-center justify-between mb-4">
            <div class="text-3xl">ğŸ‘¥</div>
            <div class="text-xs text-gray-400">Gesamt</div>
        </div>
        <div class="text-2xl font-bold text-gray-100 mb-1">
            {{ stats.total|default:0 }}
        </div>
        <div class="text-sm text-gray-400">
            Leads im System
        </div>
        <div class="mt-3 flex items-center text-xs">
            <span class="text-green-400">+{{ stats.today|default:0 }}</span>
            <span class="text-gray-500 ml-1">heute</span>
        </div>
    </div>

    <!-- Calls Today -->
    <div class="bg-dark-800 border border-dark-700 rounded-lg p-6 hover:border-primary/50 transition duration-150">
        <div class="flex items-center justify-between mb-4">
            <div class="text-3xl">ğŸ“</div>
            <div class="text-xs text-gray-400">Heute</div>
        </div>
        <div class="text-2xl font-bold text-gray-100 mb-1">
            {{ stats.calls_today|default:0 }}
        </div>
        <div class="text-sm text-gray-400">
            Anrufe getÃ¤tigt
        </div>
        <div class="mt-3 flex items-center text-xs">
            <span class="text-gray-500">Durchschnitt: {{ stats.avg_calls|default:12 }}/Tag</span>
        </div>
    </div>

    <!-- Conversion Rate -->
    <div class="bg-dark-800 border border-dark-700 rounded-lg p-6 hover:border-primary/50 transition duration-150">
        <div class="flex items-center justify-between mb-4">
            <div class="text-3xl">ğŸ“ˆ</div>
            <div class="text-xs text-gray-400">Performance</div>
        </div>
        <div class="text-2xl font-bold text-gray-100 mb-1">
            {{ stats.conversion_rate|default:"12.5" }}%
        </div>
        <div class="text-sm text-gray-400">
            Conversion Rate
        </div>
        <div class="mt-3 flex items-center text-xs">
            <span class="text-green-400">â†‘ 2.3%</span>
            <span class="text-gray-500 ml-1">vs. letzte Woche</span>
        </div>
    </div>

    <!-- Hot Leads -->
    <div class="bg-dark-800 border border-dark-700 rounded-lg p-6 hover:border-primary/50 transition duration-150">
        <div class="flex items-center justify-between mb-4">
            <div class="text-3xl">ğŸ”¥</div>
            <div class="text-xs text-gray-400">PrioritÃ¤t</div>
        </div>
        <div class="text-2xl font-bold text-primary mb-1">
            {{ stats.hot_leads|default:0 }}
        </div>
        <div class="text-sm text-gray-400">
            Hot Leads
        </div>
        <div class="mt-3 flex items-center text-xs">
            <span class="text-primary">Score â‰¥ 80</span>
        </div>
    </div>
</div>

<!-- Coming Soon Section -->
<div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    <!-- Quick Actions -->
    <div class="bg-dark-800 border border-dark-700 rounded-lg p-6">
        <h2 class="text-xl font-bold text-gray-100 mb-4 flex items-center">
            <span class="text-2xl mr-2">âš¡</span>
            Schnellaktionen
        </h2>
        <div class="space-y-3">
            <button class="w-full flex items-center justify-between p-3 bg-dark-900 hover:bg-dark-700 rounded-lg transition duration-150 text-gray-400">
                <span class="flex items-center">
                    <span class="text-xl mr-3">ğŸ“</span>
                    NÃ¤chsten Lead anrufen
                </span>
                <span class="text-xs bg-primary/20 text-primary px-2 py-1 rounded">Bald</span>
            </button>
            <button class="w-full flex items-center justify-between p-3 bg-dark-900 hover:bg-dark-700 rounded-lg transition duration-150 text-gray-400">
                <span class="flex items-center">
                    <span class="text-xl mr-3">â•</span>
                    Neuen Lead hinzufÃ¼gen
                </span>
                <span class="text-xs bg-primary/20 text-primary px-2 py-1 rounded">Bald</span>
            </button>
            <button class="w-full flex items-center justify-between p-3 bg-dark-900 hover:bg-dark-700 rounded-lg transition duration-150 text-gray-400">
                <span class="flex items-center">
                    <span class="text-xl mr-3">ğŸ“Š</span>
                    Tagesbericht erstellen
                </span>
                <span class="text-xs bg-primary/20 text-primary px-2 py-1 rounded">Bald</span>
            </button>
        </div>
    </div>

    <!-- Recent Activity -->
    <div class="bg-dark-800 border border-dark-700 rounded-lg p-6">
        <h2 class="text-xl font-bold text-gray-100 mb-4 flex items-center">
            <span class="text-2xl mr-2">ğŸ“‹</span>
            Letzte AktivitÃ¤ten
        </h2>
        <div class="space-y-3 text-gray-400">
            <div class="p-3 bg-dark-900 rounded-lg">
                <p class="text-sm">ğŸ“Š Dashboard wird geladen...</p>
                <p class="text-xs text-gray-500 mt-1">Coming Soon</p>
            </div>
            <div class="p-3 bg-dark-900 rounded-lg">
                <p class="text-sm">ğŸ”” Benachrichtigungen werden geladen...</p>
                <p class="text-xs text-gray-500 mt-1">Coming Soon</p>
            </div>
            <div class="p-3 bg-dark-900 rounded-lg">
                <p class="text-sm">â° Termine werden geladen...</p>
                <p class="text-xs text-gray-500 mt-1">Coming Soon</p>
            </div>
        </div>
    </div>
</div>

<!-- Info Banner -->
<div class="mt-8 bg-primary/10 border border-primary/30 rounded-lg p-6">
    <div class="flex items-start">
        <div class="text-3xl mr-4">ğŸš€</div>
        <div>
            <h3 class="text-lg font-bold text-primary mb-2">CRM Phase 1 - GrundgerÃ¼st</h3>
            <p class="text-gray-300 text-sm">
                Das TELIS CRM System befindet sich im Aufbau. Die Benutzerrollen sind aktiv und das Dashboard-GrundgerÃ¼st steht.
                In den nÃ¤chsten Phasen werden weitere Features wie Lead-Verwaltung, Telefonie und Reports hinzugefÃ¼gt.
            </p>
            <div class="mt-4 flex flex-wrap gap-2">
                <span class="text-xs px-3 py-1 bg-green-900/30 text-green-400 rounded-full">âœ“ Benutzerrollen</span>
                <span class="text-xs px-3 py-1 bg-green-900/30 text-green-400 rounded-full">âœ“ Login/Logout</span>
                <span class="text-xs px-3 py-1 bg-green-900/30 text-green-400 rounded-full">âœ“ Dashboard</span>
                <span class="text-xs px-3 py-1 bg-yellow-900/30 text-yellow-400 rounded-full">â—‹ Lead-Verwaltung</span>
                <span class="text-xs px-3 py-1 bg-yellow-900/30 text-yellow-400 rounded-full">â—‹ Telefonie</span>
                <span class="text-xs px-3 py-1 bg-yellow-900/30 text-yellow-400 rounded-full">â—‹ Reports</span>
            </div>
        </div>
    </div>
</div>
{% endblock %}
